@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="container">
    <div class="row p-1">
        <div class="col-8">
@*             <ul id="messagesList">
                @foreach (var message in Model.Messages)
                {
                    <li>@message.UserName says @message.Content - <span class="utc-time hidden">@message.CreatedAt.ToString("o")</span></li>
                }
            </ul>
 *@
            <div id="messagesList" class="talk1">
                @if (Model?.Messages is not null) {
                    @foreach (var message in Model.Messages) {
                        <partial name="_MessagePartial" model="message" />
                    }
                }
            </div>
        </div>
    </div>
    <div class="row p-1">
        <div class="col-8">
            <hr />
        </div>
    </div>
    <div class="row p-1" hidden="hidden">
        <div class="col-2">User</div>
        <div class="col-6"><input type="text" id="userInput" value="@User?.Identity?.Name" /></div>
    </div>
    <div class="row p-1">
        <div class="col-2">Message</div>
        <div class="col-6"><input type="text" class="w-100" id="messageInput" /></div>
    </div>
    <div class="row p-1">
        <div class="col-8 text-end">
            <input type="button" id="sendButton" value="Send Message" />
            <input type="button" id="clearButton" value="Clear" />
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/chat.js"></script>
}
